---
layout: post
title: "新技術導入的成本評估"
date: 2021-12-15
categories: [technology, management]
tags: [技術選型, 評估]
---

「Poyu,我們試用的 Golang 專案,客戶那邊結案了。」小李走進辦公室跟我報告。

「嗯,然後呢？後續還要繼續用 Go 開發嗎？」我問。

小李遲疑了一下：「這個...好像沒有其他專案需要用到 Go 了。」

我點點頭,心裡有點複雜。

今年我們嘗試了兩個新技術：**Golang** 和 **Ruby on Rails**。現在回頭看,兩個都沒有繼續發展下去。不是技術不好,而是**投資報酬率不高。**

這個經驗讓我深刻體會到：**新技術不是想用就用，必須從商業角度評估。**

## 一、Golang 的故事

事情要從今年七月說起。

那時候接到一個民間公司的案子,需求是開發一個**高併發的 API Gateway**。客戶指定要效能好、資源佔用低。

技術評估會議上,小李提議：「這個需求用 Golang 很適合！Go 的併發模型天生適合這種場景。」

我問：「但我們團隊沒人會 Go，學習成本怎麼辦？」

小李很有信心：「我自己學過一點，可以快速上手。而且 Go 的語法簡單，團隊學起來不難。」

當時我想：**這也是個機會，可以嘗試新技術，擴展團隊的技術棧。**

於是我批准了。

### 學習曲線

第一週,小李和小趙兩個人開始學 Go。

他們看了官方教學、寫了幾個 Hello World,感覺還不錯。小李興奮地說：「Go 真的很簡單,比 Java 輕量多了！」

第二週,開始寫實際的業務邏輯。

結果踩了一堆坑：
- **Error handling**：Go 的錯誤處理跟 Java 完全不同，每個函數都要檢查 error
- **Package 管理**：go mod 跟 Maven 的邏輯不一樣,一開始搞不清楚
- **Goroutine**：看起來簡單，實際用才發現 race condition 一堆
- **資料庫操作**：習慣了 Hibernate，Go 的 ORM（GORM）用起來很不順手

小李苦笑：「看起來簡單,做起來還是有學習曲線。」

### 開發效率

整個專案花了**兩個月**才完成。

如果用我們熟悉的 Java + Spring Boot，我估計**一個月**就能做完。

多出來的一個月，就是學習成本。

而且開發過程中，只有小李和小趙兩個人會 Go，其他人幫不上忙。遇到問題也沒什麼人可以討論，只能自己 Google 或問 Stack Overflow。

不過最後成果還不錯。客戶對效能很滿意，API 的 response time 平均在 50ms 以下，比原本的 Java 版本快了三倍。

### 後續發展

專案結束後,我問小李：「接下來有其他專案要用 Go 嗎？」

小李想了想：「目前沒有。國防那邊都是規定要用 Java，公路局也是。民間的案子...好像也沒有特別適合 Go 的需求。」

我又問：「那你覺得值得繼續投資 Go 嗎？比如說,找機會讓更多人學？」

小李遲疑了：「如果只有一個專案用到,好像投資報酬率不高。而且我跟小趙現在也不常寫 Go 了，再過幾個月可能就忘光了。」

這就是問題所在。

**技術不持續使用，就會生鏽。**

## 二、Ruby on Rails 的故事

Ruby 的經驗更慘。

九月的時候，有個小型專案（內部管理系統），我們想快速開發。小陳提議：「要不要試試 Ruby on Rails？聽說開發速度很快。」

我那時候想：反正是內部系統,不用擔心效能,可以試試看。

結果這個決定，成為我今年最後悔的決定之一。

### 環境設定地獄

第一天,小陳花了整整四小時在設定環境。

Ruby 的版本管理（rbenv / rvm）、gem 套件管理、Rails 框架...每一個步驟都卡關。Windows 的開發者更慘,很多套件在 Windows 上根本裝不起來。

小陳崩潰地說：「為什麼 Java 裝 JDK 就能用,Ruby 要搞這麼複雜？」

### 學習曲線更陡

Rails 號稱「convention over configuration」,但對習慣 Java 的人來說,這些 convention 根本不直覺。

MVC 的結構看起來熟悉,但實際運作邏輯完全不同。
- **路由怎麼設定？**（在 config/routes.rb,但語法很神奇）
- **資料庫遷移怎麼做？**（migration 的概念跟 Flyway 不同）
- **關聯怎麼寫？**（has_many, belongs_to，跟 JPA 的 @OneToMany 邏輯不一樣）

小陳每天都在問：「這個要怎麼做？那個為什麼會這樣？」

我也幫不上忙，因為我也不會 Ruby。

### 專案拖延

原本預計**兩週**完成的專案，拖到**六週**才上線。

而且品質很差。因為團隊對 Ruby 不熟,寫出來的 code 又臭又長，完全沒有發揮 Rails 的優勢。

最要命的是，**沒人想維護這個專案。**

後來這個系統出了幾次 bug,每次都要拜託小陳去改。小陳苦笑：「我現在看到 Ruby 就頭痛。」

### 最後的決定

十一月我決定：**把 Ruby 專案重寫成 Java。**

小王花了一週時間,用 Spring Boot 重寫了整個系統。反而更快、更穩定，而且全團隊都能維護。

Ruby 的嘗試，徹底失敗。

## 三、兩個案例的反思

Golang 和 Ruby 的經驗，讓我深刻反思：**新技術導入,到底要考慮什麼？**

我整理出幾個評估維度：

### 1. 學習成本

**不只是看教學文件,而是看實際開發的時間。**

- Go 號稱簡單,但實際開發還是要兩個月才熟悉
- Ruby 號稱快速,但光環境設定就要搞半天

學習成本 = **看文件時間 + 踩坑時間 + 達到生產力的時間**

### 2. 生態系統

**這個技術的社群支援如何？套件成熟度如何？**

- Go 的社群很活躍，但中文資料較少
- Ruby 的套件很多,但很多都年久失修

我們遇到問題時：
- Java：Stack Overflow 上有 100 個答案
- Go：找到 5 個答案，還不一定適用
- Ruby：找到答案,但版本不對應

**生態系統的成熟度，直接影響開發效率。**

### 3. 人力市場

**如果團隊成員離職,好不好找替代人選？**

這點很現實但很重要。

- Java 工程師：市場上一大堆
- Go 工程師：要找有經驗的,真的不好找
- Ruby 工程師：台灣本來就少,更難找

如果用了冷門技術，人員異動時會很頭痛。

### 4. 專案契合度

**這個技術真的適合這個專案嗎？還是為了用而用？**

Go 專案：**契合度高**
- 高併發需求 → Go 的 Goroutine 很適合
- 效能要求 → Go 的編譯語言優勢明顯

Ruby 專案：**契合度低**
- 只是個簡單 CRUD → 用 Java 也很快
- 團隊不熟悉 → 反而拖慢開發

**不要為了嘗鮮而嘗鮮，要看實際需求。**

### 5. 長期維護

**這個技術,誰來維護？能持續維護多久？**

這是最容易被忽略的。

Go 專案：只有小李和小趙會
- 如果他們兩個都離職,怎麼辦？
- 如果有 bug,其他人幫不上忙

Ruby 專案：只有小陳會
- 小陳不想碰了,變成技術債
- 最後只好重寫

**長期維護的成本，遠遠大於開發成本。**

## 四、成本的量化分析

我試著把 Go 和 Ruby 的成本算出來。

### Golang 專案成本

| 項目 | 時間 | 人力成本 |
|------|------|----------|
| 學習 Go 基礎 | 1 週 | 2 人 × 1 週 = 2 人週 |
| 實際開發 | 8 週 | 2 人 × 8 週 = 16 人週 |
| 踩坑與除錯 | 額外 2 週 | 2 人 × 2 週 = 4 人週 |
| **總計** | **11 週** | **22 人週** |

如果用 Java 開發：
- 預估時間：4 週
- 人力需求：2 人 × 4 週 = 8 人週

**多花了 14 人週（近兩個月的工時）。**

但獲得了什麼？
- 效能提升 3 倍（客戶滿意）
- 團隊學會一個新技術
- 後續沒有延續使用
- 知識會慢慢流失

### Ruby 專案成本

| 項目 | 時間 | 人力成本 |
|------|------|----------|
| 環境設定 | 1 天 | 3 人 × 0.2 週 = 0.6 人週 |
| 學習 Ruby/Rails | 2 週 | 2 人 × 2 週 = 4 人週 |
| 開發（含踩坑） | 6 週 | 2 人 × 6 週 = 12 人週 |
| 維護與修 bug | 2 週 | 1 人 × 2 週 = 2 人週 |
| 重寫成 Java | 1 週 | 1 人 × 1 週 = 1 人週 |
| **總計** | **11 週** | **19.6 人週** |

如果一開始就用 Java：
- 預估時間：2 週
- 人力需求：1 人 × 2 週 = 2 人週

**多花了 17.6 人週，而且最後還重寫了。**

這是完全的浪費。

## 五、何時該導入新技術？

經過這兩個案例，我總結出一個決策框架：

### 符合以下條件時，可以考慮導入新技術：

**有明確的技術優勢**
- 例：Go 的併發效能,確實比 Java 好 3 倍
- 反例：Ruby 開發「比較快」（但實際上我們更慢）

**有持續的使用需求**
- 例：如果每季都有高併發專案,Go 值得投資
- 反例：一年只有一個專案用 Go,不值得

**團隊有學習意願**
- 例：小李對 Go 很有興趣,主動學習
- 反例：小陳對 Ruby 沒興趣,只是被指派

**有足夠的時間和預算**
- 例：專案時程寬鬆,可以給學習時間
- 反例：專案很趕,還要花時間學新技術

**有明確的知識傳承計畫**
- 例：安排 pair programming,讓更多人學會
- 反例：只有一個人會,知識無法傳承

### 以下情況,建議不要導入新技術：

**為了嘗鮮而嘗鮮**（沒有明確理由）
**團隊已經很忙**（沒有學習時間）
**專案時程很趕**（學習成本會拖慢進度）
**只有一個人會**（知識無法傳承）
**生態系統不成熟**（會踩很多坑）

## 六、技術策略的調整

經過這一年的經驗,我調整了團隊的技術策略：

### 核心技術棧（全團隊必須熟練）
- **Java 11+ / Spring Boot**（後端主力 1）
- **.NET Core 5+**（後端主力 2）
- **PostgreSQL**（資料庫首選）
- **Sql Server**（資料庫次選）
- **Vue.Js**（前端標準）

這些技術：
- 市場成熟
- 團隊熟悉
- 人才好找
- 維護容易

### 實驗技術棧（特定場景使用）
- **Python**（資料分析、腳本）
- **Redis**（快取）

這些技術：
- 有明確使用場景
- 不強制全員學習
- 由有興趣的人負責

### 不再使用
- ~~Ruby on Rails~~（投資報酬率太低）
- ~~Golang~~（與團隊發展方向不符）

## 七、技術決策的商業思維

這一年我學到：**技術選擇不只是技術問題,更是商業決策。**

技術主管要考慮的不只是「這個技術酷不酷」,而是：

1. **ROI（投資報酬率）**
   - 投入的學習成本 vs. 獲得的效益

2. **TCO（總擁有成本）**
   - 不只是開發成本，還有維護成本

3. **風險評估**
   - 如果失敗,損失多少？

4. **機會成本**
   - 學這個技術,就沒時間學其他東西

5. **策略定位**
   - 這個技術,對公司長期發展有幫助嗎？

以前我是工程師,只想著「這個技術好棒,我想學！」

現在我是主管,必須想著「這個技術,對團隊、對公司、對客戶,真的有價值嗎？」

## 八、給團隊的建議

後來我開了一個技術分享會,跟團隊分享這些反思。

我說：

「我知道大家都想學新技術,我也是。但我們要理性評估：

**個人學習 vs. 團隊導入,是兩件事。**

個人學習,隨便。你想學 Rust、Kotlin、Elixir,下班回家愛怎麼學就怎麼學。

但要導入到團隊,要考慮的東西就多了。不只是你一個人會,而是整個團隊要能維護。

我們的原則是：
1. **專注核心技術,把它做深做好**
2. **新技術要有明確理由,不是為了酷**
3. **實驗性質的技術,用小專案試水溫**
4. **失敗了,就承認,不要硬撐**

技術是手段,不是目的。我們的目的是**解決問題、創造價值**。」

小李舉手：「那 Golang 算是失敗還是成功？」

我想了想：「算是...不上不下吧。技術上成功，策略上不夠理想。如果當初能規劃後續使用場景,就更完美了。」

## 九、未來的規劃

雖然 Go 和 Ruby 的經驗不算完美，但我不後悔。

**失敗是最好的老師。**

這兩個案例讓我學到：
- 如何評估新技術
- 如何控制風險
- 如何平衡創新與穩定

明年的技術策略:
1. **深化核心技術**（Java、Spring Boot、React）
2. **謹慎嘗試新技術**（有明確需求再說）
3. **建立技術評估流程**（不再拍腦袋決定）
4. **重視知識傳承**（避免技術孤島）

## 結語

新技術的誘惑很大。

每次看到 Hacker News 上的新框架、新語言,都會想：「哇,好酷,我也想試試看！」

但當了主管後,必須克制這種衝動。

**技術選擇,不只是技術問題,更是商業決策。**

我們要問的不是「這個技術酷不酷」,而是：
- 這個技術能解決什麼問題？
- 導入的成本是多少？
- 長期的投資報酬率如何？
- 團隊能不能持續維護？

除非有明確的理由和持續的需求，否則不要輕易擴展技術棧。

**專注在核心技術，把它做深做好。**

這是我今年最大的體悟。
