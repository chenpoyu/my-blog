---
layout: post
title: "Ruby 專案的嘗試與結束"
date: 2021-10-20
categories: [technology, ruby]
tags: [Ruby, 專案管理]
---

「Poyu，Ruby 專案的客戶決定不續約了。」

PM 告訴我這個消息時，我並不意外。

其實從專案中期開始，我就隱約感覺到：**這個技術嘗試，可能不會成功。**

但這半年的經驗，讓我學到很多——關於技術選型、團隊學習，以及「何時該放手」。

## 專案的開始

這是一個民間企業的 Web 應用程式專案，客戶的技術顧問建議用 Ruby on Rails，理由是：

- 開發速度快（Convention over Configuration）
- 適合快速迭代（Agile）
- 社群活躍，資源多

聽起來很吸引人。

而且那時候 Golang 專案剛成功，團隊士氣正高，大家都想嘗試新技術。

我想：**為什麼不試試看？**

於是我決定接這個專案。

**但現在回想，這個決策有問題。**

## 第一個錯誤：沒有評估學習成本

### Go vs Ruby 的差異

當時我以為：「Go 能成功，Ruby 也可以。」

但我忽略了：

**Go 專案的成功因素：**
- Go 的語法簡單，學習曲線低
- 團隊有經驗的 Senior（小陳、小李）
- 專案需求明確，變動少
- 客戶懂技術，溝通順暢

**Ruby 專案的現實：**
- Ruby 的語法靈活，但也複雜（DSL、元編程）
- Rails 的 Convention 很多，要時間適應
- 團隊成員經驗不足（派的是 Mid 和 Junior）
- 專案需求變動快
- 客戶不懂技術，溝通困難

**我低估了學習成本。**

### 學習階段的掙扎

我給團隊兩週學習時間，但很快發現：

**小張（Mid）：** 「Ruby 的語法好怪...同樣一件事可以有十種寫法。」

**小趙（Junior）：** 「Rails 的 Magic 太多了，我不知道背後發生什麼。」

**小劉（Mid）：** 「我看了一週的文件，還是搞不懂 Active Record 的關聯。」

兩週後，他們勉強能寫簡單的 CRUD，但對 Rails 的理解還很表面。

**我應該在這時候暫停，重新評估。**

**但我沒有。**

我想：「邊做邊學嘛，應該沒問題。」

**這是第二個錯誤。**

## 第二個錯誤：團隊配置不當

### 派誰去？

當時我的考量是：

- 小陳、小李在忙 Go 專案和其他重要專案
- Ruby 專案相對小，應該不需要資深工程師
- 讓 Mid 和 Junior 練練手也好

所以我派了：
- 小張（Mid，2年經驗）
- 小趙（Junior，1年經驗）
- 小劉（Mid，3年經驗，但比較被動）

**理論上應該足夠。**

**但實際上完全不夠。**

### 問題很快浮現

**Week 3：**
客戶改需求，要加一個「權限管理系統」。

小張研究了兩天，還是不確定怎麼做。

他問我：「要用 CanCanCan 還是 Pundit？」

我也不知道（我沒寫過 Ruby）。

他們只好自己試，結果選了一個，後來發現不適合，又要重寫。

**Week 6：**
程式碼開始變得混亂，因為大家對 Rails 的「最佳實踐」理解不同。

Code Review 時，我發現：
- Controller 太肥（所有邏輯都在這裡）
- Model 沒有驗證
- 重複的代碼到處都是

我建議他們重構，但時程已經很趕，沒有餘裕。

**Week 10：**
客戶又改需求，要整合第三方 API。

小趙花了一週，還是串不起來，因為他不熟 Ruby 的 HTTP library。

最後我只好請小陳幫忙（他用半天就搞定了）。

**這時我意識到：這個團隊配置，根本撐不起這個專案。**

## 第三個錯誤：需求管理失控

### 客戶很難溝通

這個客戶跟 Golang 專案的客戶完全不同：

- 不懂技術（不知道什麼難、什麼簡單）
- 需求變動快（今天要A，明天改B）
- 溝通不精準（「差不多就好」、「應該很簡單吧」）

而PM是新手，不太會擋需求。

結果就是：**需求不斷追加，時程不斷延後。**

### 典型案例

客戶：「我想要報表可以匯出Excel。」  
PM：「好的。」

工程師做完了。

客戶：「能不能加上圖表？」  
PM：「好的。」

工程師做完了。

客戶：「能不能讓使用者自訂欄位？」  
PM：「這個...我問問看。」

工程師：「這要重寫，至少兩週。」  
PM：「客戶說很重要...」

**這種情況一再發生。**

我應該更強硬地管理需求，但當時我忙於其他專案，沒有緊盯。

**這是第三個錯誤。**

## 專案的結果

半年後，專案勉強上線了。

**功能面：**
- 基本功能都有
- Bug 不少（上線後一個月修了30+個bug）
- 效能不太好（因為沒時間優化）

**客戶反應：**
- 「功能是有，但用起來怪怪的。」
- 「怎麼這麼多bug？」
- 「跟我想的不太一樣。」

**團隊狀態：**
- 疲憊（趕工了兩個月）
- 挫折（覺得做得不好）
- 不想再碰 Ruby（學習經驗很痛苦）

### 客戶的決定

三個月後，客戶通知我們：

「我們決定不續約了，系統交接後，我們會找其他廠商維護。」

表面原因：預算考量。  
實際原因：不滿意品質。

**Ruby 技術線，就此結束。**

## 深刻的反思

這次失敗，讓我反思了很多：

### 1. 不是所有技術都適合「邊做邊學」

Go 能成功，是因為：
- 語法簡單
- 概念直接
- 團隊成員能力強

Ruby 失敗，是因為：
- 語法複雜（太靈活）
- Rails 的 Convention 太多
- 團隊成員經驗不足

**學習曲線不同，需要不同的策略。**

如果重來，我會：
- 給更長的學習時間（一個月）
- 先做一個內部專案練手
- 或者直接外包給懂 Ruby 的團隊

### 2. 團隊配置要考慮技術難度

我不應該把不熟的技術交給經驗不足的團隊。

**正確的做法：**
- 新技術 + 資深工程師 ✓
- 熟悉技術 + 經驗不足工程師 ✓
- 新技術 + 經驗不足工程師 ✗

這次就是第三種，註定失敗。

### 3. 需求管理是專案成敗的關鍵

技術再好，如果需求管理失控，專案還是會失敗。

**我應該：**
- 更早介入需求討論
- 教PM如何擋需求
- 設定明確的範圍和底線

### 4. 及時止損很重要

專案中期，我就感覺到「不對勁」，但我沒有喊停。

我想：「都做一半了，硬撐完吧。」

結果是：
- 團隊累壞了
- 品質沒做好
- 客戶不滿意
- 公司浪費資源

**更好的做法是：**
- Week 6 就該重新評估
- 如果真的不行，考慮換技術或換人
- 或者跟客戶坦承，延長時程

### 5. 不是所有技術都值得投資

技術投資要看：
- **市場需求** - 有多少客戶要這個技術？
- **團隊興趣** - 大家想學嗎？
- **未來性** - 這個技術還會紅多久？

Go 成功，是因為：
- 市場需求高（很多公司在轉 Go）
- 團隊有興趣
- 未來性強（趨勢向上）

Ruby 失敗，是因為：
- 市場需求低（很少客戶指定 Ruby）
- 團隊學完就不想碰了
- 未來性不明（Ruby 的熱度在下降）

**所以決定不再投資 Ruby，是對的決定。**

## 告訴團隊

專案結束後，我跟參與的工程師談：

**我：** 「這個專案辛苦了，我知道過程很痛苦。」

**小張：** 「確實蠻累的...感覺一直在跟技術搏鬥。」

**我：** 「這次是我的決策失誤。我不應該讓經驗不足的團隊去挑戰不熟的技術。」

**小趙：** 「但我們還是學到東西了，雖然過程很痛苦。」

**我：** 「你們覺得Ruby值得繼續投資嗎？」

**小劉：** 「老實說...我不想再碰了。學習曲線太陡，而且好像市場需求也不高。」

**我：** 「那我們就到此為止。這次當作學費，下次選技術會更謹慎。」

他們鬆了口氣。

**我也是。**

## 最後的價值

雖然專案失敗，但還是有價值：

**學到的教訓：**
1. 技術選型要更謹慎
2. 團隊配置要考慮經驗
3. 需求管理很重要
4. 及時止損是勇氣

**團隊的成長：**
- 經歷過失敗，更知道什麼能做、什麼不能做
- 對技術選型有更深的理解
- 對自己的能力邊界有更清楚的認識

**我自己的成長：**
- 不是所有機會都要抓
- 有時候說「不」比說「好」更重要
- 管理者要為決策負責，也要從錯誤中學習

**最重要的是：失敗不可怕，可怕的是不願意承認失敗。**

我們承認了，學習了，然後往前走。

這就夠了。

這次經驗讓團隊知道，新技術不是亂接的，要評估投資報酬率。
